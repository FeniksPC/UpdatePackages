
Vtiger_Popup_Js("Vtiger_EmailsRelatedModule_Popup_Js", {}, {getListViewEntries:function(c){var h = this; var j = jQuery(c.currentTarget); var a = j.data("id"); var g = j.data("name"); var d = jQuery(j).find(".emailField"); var i = ""; jQuery.each(d, function(k, e){i = jQuery(e).text(); if (i != ""){return false}}); if (i == ""){var f = g + " " + app.vtranslate("JS_DO_NOT_HAVE_AN_EMAIL_ID"); alert(f); c.preventDefault(); return}var b = {}; b[a] = {name:g, email:i}; h.done(b, h.getEventName()); c.preventDefault()}, registerSelectButton:function(){var b = this.getPopupPageContainer(); var a = this; b.on("click", "button.select", function(f){var d = b.find("table"); var c = {}; jQuery("input.entryCheckBox", d).each(function(j, i){var g = jQuery(i); if (!g.is(":checked")){return true}var n = g.closest("tr"); var h = n.data("id"); var e = n.data("name"); var l = jQuery(n).find(".emailField"); var m = l.text(); if (m == ""){var k = e + " " + app.vtranslate("JS_DO_NOT_HAVE_AN_EMAIL_ID"); alert(k); f.preventDefault(); return}c[h] = {name:n.data("name"), email:m}}); if (Object.keys(c).length <= 0){alert(app.vtranslate("JS_PLEASE_SELECT_ONE_RECORD"))} else{a.done(c, a.getEventName())}})}, registerEvents:function(){this._super()}});
