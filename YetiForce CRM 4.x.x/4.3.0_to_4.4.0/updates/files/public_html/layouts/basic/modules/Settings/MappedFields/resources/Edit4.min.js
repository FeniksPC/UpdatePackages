Settings_MappedFields_Edit_Js("Settings_MappedFields_Edit4_Js",{},{step4Container:false,advanceFilterInstance:false,init:function(){this.initialize()},getContainer:function(){return this.step4Container},setContainer:function(element){this.step4Container=element;return this},initialize:function(container){if(typeof container==="undefined"){container=jQuery("#mf_step4")}if(container.is("#mf_step4")){this.setContainer(container)}else{this.setContainer(jQuery("#mf_step4"))}},submit:function(){var aDeferred=jQuery.Deferred();var form=this.getContainer();var formData=form.serializeFormData();var progressIndicatorElement=jQuery.progressIndicator({position:"html",blockInfo:{enabled:true}});var saveData={};saveData.permissions=jQuery("#permissions").val();saveData.record=formData.record;saveData.step=4;saveData=jQuery.extend({},saveData);app.saveAjax("step1",saveData).then(function(data){if(data.success==true){Settings_Vtiger_Index_Js.showMessage({text:app.vtranslate("JS_MF_SAVED_SUCCESSFULLY")});setTimeout(function(){window.location.href="index.php?module=MappedFields&parent=Settings&page=1&view=List";progressIndicatorElement.progressIndicator({mode:"hide"})},1e3)}});return aDeferred.promise()},registerCancelStepClickEvent:function(form){jQuery("button.cancelLink",form).on("click",function(){window.history.back()})},registerEvents:function(){var container=this.getContainer();var opts=app.validationEngineOptions;opts["onValidationComplete"]=function(form,valid){return valid};opts["promptPosition"]="bottomRight";container.validationEngine(opts);this.registerCancelStepClickEvent(container);App.Fields.Picklist.showSelectizeElementView(container.find(".selectize"))}});