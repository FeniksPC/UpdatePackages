Vtiger_List_Js("Settings_Vtiger_List_Js",{triggerDelete:function(event,url){event.stopPropagation();var instance=Vtiger_List_Js.getInstance();instance.DeleteRecord(url)},deleteById:function(id){var aDeferred=jQuery.Deferred();var instance=Vtiger_List_Js.getInstance();var params=$.extend(instance.getDeleteParams(),{record:id});AppConnector.request(params).done(function(data){if(data.success){$("#recordsCount").val("");$("#totalPageCount").text("");instance.getListViewRecords().done(function(){instance.updatePagination()})}aDeferred.resolve(data)});return aDeferred.promise()}},{getDeleteParams:function(){return{module:app.getModuleName(),parent:app.getParentModuleName(),action:"DeleteAjax"}},getListViewContainer:function(){if(this.listViewContainer==false){this.listViewContainer=jQuery("div.listViewContentDiv")}return this.listViewContainer},DeleteRecord:function(url){var thisInstance=this;var css=jQuery.extend({"text-align":"left"},css);AppConnector.request(url).done(function(data){if(data){app.showModalWindow(data,function(container){thisInstance.postDeleteAction(container)})}})},postDeleteAction:function(container){var thisInstance=this;var deleteConfirmForm=jQuery(container).find("#DeleteModal");deleteConfirmForm.on("submit",function(e){e.preventDefault();var deleteActionUrl=deleteConfirmForm.serializeFormData();AppConnector.request(deleteActionUrl).done(function(){app.hideModalWindow();var params={text:app.vtranslate("JS_RECORD_DELETED_SUCCESSFULLY")};Settings_Vtiger_Index_Js.showMessage(params);jQuery("#recordsCount").val("");jQuery("#totalPageCount").text("");thisInstance.getListViewRecords().done(function(){thisInstance.updatePagination()})}).fail(function(error,err){app.hideModalWindow()})})},getPageJumpParams:function(){var module=app.getModuleName();var cvId=this.getCurrentCvId();var pageCountParams={module:module,parent:"Settings",action:"ListAjax",mode:"getPageCount",viewname:cvId};var sourceModule=jQuery("#moduleFilter").val();if(typeof sourceModule!=="undefined"){pageCountParams["sourceModule"]=sourceModule}return pageCountParams},registerEvents:function(){this.registerRowClickEvent();this.registerCheckBoxClickEvent();this.registerHeadersClickEvent();this.registerPageNavigationEvents();this.registerEventForTotalRecordsCount()}});