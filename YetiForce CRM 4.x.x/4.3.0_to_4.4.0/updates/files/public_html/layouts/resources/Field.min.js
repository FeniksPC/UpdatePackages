jQuery.Class("Vtiger_Field_Js",{getInstance:function(data,moduleName){if(typeof moduleName==="undefined"){moduleName=app.getModuleName()}var moduleField=moduleName+"_Field_Js";var moduleFieldObj=window[moduleField];var fieldClass="";if(typeof moduleFieldObj!=="undefined"){fieldClass=moduleFieldObj}else{fieldClass=Vtiger_Field_Js}var fieldObj=new fieldClass;if(typeof data==="undefined"){data={}}fieldObj.setData(data);return fieldObj}},{data:{},isMandatory:function(){return this.get("mandatory")},get:function(key){if(key in this.data){return this.data[key]}return""},getType:function(){return this.get("type")},getName:function(){return this.get("name")},getValue:function(){if("value"in this.getData()){return this.get("value")}else if("defaultValue"in this.getData()){return this.get("defaultValue")}return""},getData:function(){return this.data},setData:function(fieldInfo){this.data=fieldInfo;return this},getModuleName:function(){return app.getModuleName()},getUiTypeModel:function(){var currentModule=this.getModuleName();var type=this.getType();var typeClassName=type.charAt(0).toUpperCase()+type.slice(1).toLowerCase();var moduleUiTypeClassName=window[currentModule+"_"+typeClassName+"_Field_Js"];var BasicUiTypeClassName=window["Vtiger_"+typeClassName+"_Field_Js"];if(typeof moduleUiTypeClassName!=="undefined"){return(new moduleUiTypeClassName).setData(this.getData())}else if(typeof BasicUiTypeClassName!=="undefined"){return(new BasicUiTypeClassName).setData(this.getData())}return this},getUi:function(){var html='<input type="text" name="'+this.getName()+'" class="form-control" />';html=jQuery(html).val(app.htmlDecode(this.getValue()));return this.addValidationToElement(html)},getUiTypeSpecificHtml:function(){var uiTypeModel=this.getUiTypeModel();return uiTypeModel.getUi()},addValidationToElement:function(element){element=jQuery(element);var addValidationToElement=element;var elementInStructure=element.find('[name="'+this.getName()+'"]');if(elementInStructure.length>0){addValidationToElement=elementInStructure}var validationHandler="validate[";if(this.isMandatory()){validationHandler+="required,"}validationHandler+="funcCall[Vtiger_Base_Validator_Js.invokeValidation]]";addValidationToElement.attr("data-validation-engine",validationHandler).attr("data-fieldinfo",JSON.stringify(this.getData())).attr("data-validator",JSON.stringify(this.getData().specialValidator));return element}});Vtiger_Field_Js("Vtiger_Picklist_Field_Js",{},{getPickListValues:function(){return this.get("picklistvalues")},getUi:function(){var html='<select class="row chzn-select form-control" name="'+this.getName()+'">';var pickListValues=this.getPickListValues();var selectedOption=app.htmlDecode(this.getValue());for(var option in pickListValues){html+='<option value="'+option+'" ';if(option==selectedOption){html+=" selected "}html+=">"+pickListValues[option]+"</option>"}html+="</select>";var selectContainer=jQuery(html);this.addValidationToElement(selectContainer);return selectContainer}});Vtiger_Field_Js("Vtiger_Multipicklist_Field_Js",{},{getPickListValues:function(){return this.get("picklistvalues")},getUi:function(){var html='<select class="select2 form-control" multiple name="'+this.getName()+'[]">';var pickListValues=this.getPickListValues();var selectedOption=app.htmlDecode(this.getValue());var selectedOptionsArray=selectedOption.split(",");for(var option in pickListValues){html+='<option value="'+option+'" ';if(jQuery.inArray(option,selectedOptionsArray)!=-1){html+=" selected "}html+=">"+pickListValues[option]+"</option>"}html+="</select>";var selectContainer=jQuery(html);this.addValidationToElement(selectContainer);return selectContainer}});Vtiger_Field_Js("Vtiger_Boolean_Field_Js",{},{isChecked:function(){var value=this.getValue();if(value==1||value=="1"||value.toLowerCase()=="on"){return true}return false},getUi:function(){var html='<input type="hidden" name="'+this.getName()+'" value="0"/><input type="checkbox" name="'+this.getName()+'" ';if(this.isChecked()){html+="checked"}html+=" />";return this.addValidationToElement(html)}});Vtiger_Field_Js("Vtiger_Date_Field_Js",{},{getDateFormat:function(){return this.get("date-format")},getUi:function(){var html='<div class="date input-group">'+'<input class="dateField form-control" type="text" name="'+this.getName()+'"  data-date-format="'+this.getDateFormat()+'"  value="'+this.getValue()+'" />'+'<div class="input-group-append"><span class="input-group-text u-cursor-pointer js-date__btn" data-js="click"><span class="fas fa-calendar-alt"></span></span></div>'+"</div>";var element=jQuery(html);return this.addValidationToElement(element)}});Vtiger_Field_Js("Vtiger_Currency_Field_Js",{},{getCurrencySymbol:function(){return this.get("currency_symbol")},getUi:function(){var html='<div class="input-group">'+'<span class="input-group-addon">'+this.getCurrencySymbol()+"</span>"+'<input type="text" class="form-control" name="'+this.getName()+'" value="'+this.getValue()+'"  />'+"</div>";var element=jQuery(html);return this.addValidationToElement(element)}});Vtiger_Field_Js("Vtiger_Owner_Field_Js",{},{getPickListValues:function(){return this.get("picklistvalues")},getUi:function(){var html='<select class="row chzn-select form-control" name="'+this.getName()+'">';var pickListValues=this.getPickListValues();var selectedOption=this.getValue();for(var optGroup in pickListValues){html+='<optgroup label="'+optGroup+'">';var optionGroupValues=pickListValues[optGroup];for(var option in optionGroupValues){html+='<option value="'+option+'" ';if(option==selectedOption){html+=" selected "}html+=">"+optionGroupValues[option]+"</option>"}html+="</optgroup>"}html+="</select>";var selectContainer=jQuery(html);this.addValidationToElement(selectContainer);return selectContainer}});Vtiger_Multipicklist_Field_Js("Vtiger_Multireferencevalue_Field_Js",{},{});Vtiger_Multipicklist_Field_Js("Vtiger_Sharedowner_Field_Js",{},{});Vtiger_Picklist_Field_Js("Vtiger_Tree_Field_Js",{},{});Vtiger_Tree_Field_Js("Vtiger_Categorymultipicklist_Field_Js",{},{});Vtiger_Picklist_Field_Js("Vtiger_Modules_Field_Js",{},{});Vtiger_Date_Field_Js("Vtiger_Datetime_Field_Js",{},{});Vtiger_Picklist_Field_Js("Vtiger_Taxs_Field_Js",{},{});Vtiger_Picklist_Field_Js("Vtiger_InventoryLimit_Field_Js",{},{});Vtiger_Field_Js("Vtiger_Time_Field_Js",{},{getTimeFormat:function(){return this.get("time-format")},getUi:function(){var html='<div class="input-group time">'+'<input class="clockPicker form-control" type="text" data-format="'+this.getTimeFormat()+'" name="'+this.getName()+'"  value="'+this.getValue()+'" />'+'<span class="input-group-addon"><i class="far fa-clock"></i></span>'+"</div>";var element=jQuery(html);return this.addValidationToElement(element)}});Vtiger_Field_Js("Vtiger_Text_Field_Js",{},{getUi:function(){var html='<textarea class="form-control-lg form-control" name="'+this.getName()+'"  value="'+this.getValue()+'">'+this.getValue()+"</textarea>";var element=jQuery(html);return this.addValidationToElement(element)}});Vtiger_Field_Js("Vtiger_Percentage_Field_Js",{},{getUi:function(){var html='<div class="input-group">'+'<input type="number" class="form-control" min="0" max="100" name="'+this.getName()+'" value="'+this.getValue()+'" step="any"/>'+'<span class="input-group-addon">%</span>'+"</div>";var element=jQuery(html);return this.addValidationToElement(element)}});Vtiger_Field_Js("Vtiger_Recurrence_Field_Js",{},{getPickListValues:function(){return this.get("picklistvalues")},getUi:function(){var html='<select class="row chzn-select form-control" name="'+this.getName()+'">';var pickListValues=this.getPickListValues();var selectedOption=app.htmlDecode(this.getValue());for(var option in pickListValues){html+='<option value="'+option+'" ';if(option==selectedOption){html+=" selected "}html+=">"+pickListValues[option]+"</option>"}html+="</select>";var selectContainer=jQuery(html);this.addValidationToElement(selectContainer);return selectContainer}});